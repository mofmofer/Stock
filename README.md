# 海外株式取引サービス

基本的な海外株式の取引と残高管理をモデル化した Spring Boot のスターターサービスです。REST API を公開しており、アカウントの作成、現金の入金、買い／売り注文の執行を行い、SQLite データベースに永続化されたポートフォリオを管理します。専用のフロントエンドスタックがなくても最初の手動リクエストを試せる軽量な静的ページも同梱しています。

## 機能
- 初期入金額を指定して取引アカウントを作成
- アカウントへの米ドル入金／出金
- 海外銘柄の買い／売り注文を実行し、平均取得単価を追跡
- 現金残高と保有銘柄を含むアカウントスナップショットを取得
- 永続化されたアカウントをブラウザから確認できる最小限の HTML クライアントを提供（`/admin/index.html`）

## 技術スタック
- Java 17
- Spring Boot 3（Web + Validation）
- Maven（ビルドと依存関係管理）
- JUnit 5（ユニットテスト）

## はじめに

### 前提条件
- Java 17 以上
- Maven 3.9 以上

### サービスの起動
```bash
mvn spring-boot:run
```
API は `http://localhost:8080` で利用可能です。ブラウザで `http://localhost:8080/index.html` を開くと、最小限の UI を試せます。

### テストの実行
```bash
mvn test
```

## API の概要

| メソッド | エンドポイント | 説明 |
| --- | --- | --- |
| POST | `/api/accounts` | 新しいアカウントを作成 |
| GET | `/api/accounts/{id}` | アカウントの残高と保有銘柄を取得 |
| POST | `/api/accounts/{id}/deposit` | アカウントに米ドルを入金 |
| POST | `/api/accounts/{id}/withdraw` | アカウントから米ドルを出金 |
| POST | `/api/accounts/{id}/trade` | 買いまたは売りの取引を実行 |

すべての POST エンドポイントは JSON ペイロードを受け取り、JSON を返します。検証エラーやビジネスルール違反の場合は HTTP 400、アカウントが見つからない場合は HTTP 404 を返します。

## 今後の拡張案
- 取引履歴や約定レポートの追加
- 認証／認可の追加
- リアルタイムの為替・市場データソースとの連携
- フロントエンドを拡張して、よりリッチなポートフォリオダッシュボードを提供
